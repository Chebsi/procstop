<html>
<script>
// React when the start button is clicked.
chrome.browserAction.onClicked.addListener(function(tab) {
var viewTabUrl = chrome.extension.getURL('popup.html');
var numClicked = 0;
//Look through all the pages in this extension to find one we can use.
var views = chrome.extension.getViews();
for (var i = 0; i < views.length; i++) {
	var view = views[i];

	//If this view has the right URL and hasn't been used yet...
	if (view.location.href == viewTabUrl && !view.alreadyStarted) {

		//...call one of its functions and set a property.
		view.setNumClicked(numClicked++);
		view.alreadyStarted = true;
		break;
	}
}
});
</script>
</html>
